<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>

</head>

<body style="margin:0; overflow:hidden;">

<button id="startAR"
style="position:absolute;z-index:10;top:20px;left:20px;padding:10px;">
Start AR
</button>

<a-scene
  mindar-image="imageTargetSrc: https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.5/examples/image-tracking/assets/band-example/band.mind;"
  embedded
  vr-mode-ui="enabled:false"
  device-orientation-permission-ui="enabled:true">

<a-assets>

<!-- Video -->
<video
  id="video0"
  muted
  loop
  playsinline
  webkit-playsinline
  crossorigin="anonymous"
  src="https://video-indiatoday.tosshub.com/indiatoday/video/2026_02/15_feb_26_it_10pm_nikhil-chat-gavaskar_on_ind_win_720.mp4">
</video>

<!-- 3D Model -->
<a-asset-item
  id="bearModel"
  src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.5/examples/image-tracking/assets/band-example/bear/scene.gltf">
</a-asset-item>

</a-assets>

<a-camera position="0 0 0" look-controls="enabled:false"></a-camera>

<a-entity id="target0" mindar-image-target="targetIndex:0">

<!-- Video -->
<a-video
  src="#video0"
  width="1.2"
  height="0.68"
  position="0 0 0.01">
</a-video>

<!-- 3D Model -->
<a-gltf-model
  src="#bearModel"
  position="0 -0.3 0.2"
  scale="0.05 0.05 0.05">
</a-gltf-model>

</a-entity>

</a-scene>

<script>

const scene = document.querySelector('a-scene');
const video = document.querySelector('#video0');
const target = document.querySelector('#target0');
const startBtn = document.querySelector('#startAR');

// Required user gesture
startBtn.addEventListener('click', async () => {
  await scene.systems["mindar-image-system"].start();
  startBtn.style.display = 'none';
});

// Play / pause based on target
target.addEventListener("targetFound", () => {
  video.play();
});

target.addEventListener("targetLost", () => {
  video.pause();
});

// iOS fallback
document.body.addEventListener('click', () => video.play(), { once:true });

</script>

</body>
</html>
